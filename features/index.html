
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="AI-powered performer identification for Stash">
      
      
      
      
        <link rel="prev" href="../plugin/">
      
      
        <link rel="next" href="../database/">
      
      
        
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.2">
    
    
      
        <title>Features - Stash Sense</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#features" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Stash Sense" class="md-header__button md-logo" aria-label="Stash Sense" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Stash Sense
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Features
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="purple"  aria-hidden="true"  type="radio" name="__palette" id="__palette_0">
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/carrotwaxr/stash-sense" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    stash-sense
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Stash Sense" class="md-nav__button md-logo" aria-label="Stash Sense" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Stash Sense
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/carrotwaxr/stash-sense" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    stash-sense
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../plugin/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Plugin Setup
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    User Guide
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    User Guide
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Features
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Features
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#face-recognition" class="md-nav__link">
    <span class="md-ellipsis">
      
        Face Recognition
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gallery-image-identification" class="md-nav__link">
    <span class="md-ellipsis">
      
        Gallery &amp; Image Identification
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#duplicate-scene-detection" class="md-nav__link">
    <span class="md-ellipsis">
      
        Duplicate Scene Detection
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#upstream-performer-sync" class="md-nav__link">
    <span class="md-ellipsis">
      
        Upstream Performer Sync
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#upstream-studio-sync" class="md-nav__link">
    <span class="md-ellipsis">
      
        Upstream Studio Sync
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#upstream-scene-sync" class="md-nav__link">
    <span class="md-ellipsis">
      
        Upstream Scene Sync
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#recommendations-dashboard" class="md-nav__link">
    <span class="md-ellipsis">
      
        Recommendations Dashboard
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#operation-queue" class="md-nav__link">
    <span class="md-ellipsis">
      
        Operation Queue
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#model-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        Model Management
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#settings-system" class="md-nav__link">
    <span class="md-ellipsis">
      
        Settings System
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#database-self-update" class="md-nav__link">
    <span class="md-ellipsis">
      
        Database Self-Update
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../database/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Database & Updates
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../settings-system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Settings
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../stash-box-endpoints/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    StashBox Endpoints
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Unraid
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Unraid
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../unraid/setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Setup
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../unraid/gpu-passthrough/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    GPU Passthrough
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Troubleshooting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#face-recognition" class="md-nav__link">
    <span class="md-ellipsis">
      
        Face Recognition
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gallery-image-identification" class="md-nav__link">
    <span class="md-ellipsis">
      
        Gallery &amp; Image Identification
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#duplicate-scene-detection" class="md-nav__link">
    <span class="md-ellipsis">
      
        Duplicate Scene Detection
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#upstream-performer-sync" class="md-nav__link">
    <span class="md-ellipsis">
      
        Upstream Performer Sync
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#upstream-studio-sync" class="md-nav__link">
    <span class="md-ellipsis">
      
        Upstream Studio Sync
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#upstream-scene-sync" class="md-nav__link">
    <span class="md-ellipsis">
      
        Upstream Scene Sync
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#recommendations-dashboard" class="md-nav__link">
    <span class="md-ellipsis">
      
        Recommendations Dashboard
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#operation-queue" class="md-nav__link">
    <span class="md-ellipsis">
      
        Operation Queue
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#model-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        Model Management
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#settings-system" class="md-nav__link">
    <span class="md-ellipsis">
      
        Settings System
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#database-self-update" class="md-nav__link">
    <span class="md-ellipsis">
      
        Database Self-Update
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="features">Features</h1>
<h2 id="face-recognition">Face Recognition</h2>
<p>Stash Sense identifies performers in your scenes by analyzing sprite sheets — the thumbnail strips that Stash generates for timeline scrubbing. No video decoding required.</p>
<p><strong>How it works:</strong></p>
<ol>
<li>Click <strong>Identify Performers</strong> on any scene page in Stash</li>
<li>The sidecar extracts frames from the sprite sheet and detects faces using RetinaFace</li>
<li>Each face is aligned and embedded using two models (FaceNet512 + ArcFace) with flip-averaging for stability</li>
<li>Embeddings are searched against Voyager vector indices containing 366,000+ face references</li>
<li>Results are clustered by person — the same performer appearing across multiple frames is grouped together</li>
<li>Matched performers are shown with confidence scores and one-click tagging</li>
</ol>
<p><strong>Matching modes:</strong></p>
<ul>
<li><strong>Clustered frequency matching</strong> (default) — Groups detected faces by person using cosine distance, then frequency-matches within each cluster. Multi-frame appearances boost confidence.</li>
<li><strong>Tagged-performer boost</strong> — Performers already tagged on the scene receive a small distance bonus (+0.03), reducing false negatives for known cast.</li>
</ul>
<p><strong>Performance:</strong> On a GTX 1080 (8GB VRAM), a typical scene (60 frames) processes in ~5 seconds.</p>
<hr />
<h2 id="gallery-image-identification">Gallery &amp; Image Identification</h2>
<p>Extends face recognition to gallery images, which are typically higher quality and better-framed than video frames.</p>
<ul>
<li>Single image or full gallery identification</li>
<li>Results grouped by performer across images with best/average distance</li>
<li>Fingerprint caching avoids re-processing on subsequent requests</li>
</ul>
<hr />
<h2 id="duplicate-scene-detection">Duplicate Scene Detection</h2>
<p>Finds duplicate scenes that Stash's built-in phash matching misses — different intros/outros, trimming, aspect ratio changes, or watermarks.</p>
<p><strong>Detection signals:</strong></p>
<table>
<thead>
<tr>
<th>Signal</th>
<th>Max Confidence</th>
<th>How it works</th>
</tr>
</thead>
<tbody>
<tr>
<td>Stash-box ID match</td>
<td>100%</td>
<td>Authoritative — same scene on stash-box</td>
</tr>
<tr>
<td>Face fingerprint similarity</td>
<td>85%</td>
<td>Same performers in same ratios (robust to trimming)</td>
</tr>
<tr>
<td>Metadata overlap</td>
<td>60%</td>
<td>Same studio + same performers</td>
</tr>
</tbody>
</table>
<p>Signals combine with diminishing returns (<code>primary + secondary x 0.3</code>) to prevent false confidence inflation.</p>
<p><strong>Scalability:</strong> Uses candidate generation (SQL joins + inverted indices) to produce O(n) candidate pairs instead of O(n^2) brute-force comparisons. Handles 15,000+ scene libraries.</p>
<hr />
<h2 id="upstream-performer-sync">Upstream Performer Sync</h2>
<p>Detects metadata changes on stash-box endpoints (StashDB, FansDB, etc.) and presents per-field merge controls to keep your local Stash library current.</p>
<p><strong>3-way diff engine:</strong> Compares three states for each field:</p>
<ul>
<li><strong>Upstream</strong> — current stash-box value</li>
<li><strong>Local</strong> — current value in your Stash</li>
<li><strong>Snapshot</strong> — last-seen upstream value (stored locally)</li>
</ul>
<p>This distinguishes intentional local differences from actual upstream changes. If you've deliberately set a different name locally, it won't keep suggesting the upstream name on every sync.</p>
<p><strong>Per-field merge controls:</strong></p>
<table>
<thead>
<tr>
<th>Field type</th>
<th>Options</th>
</tr>
</thead>
<tbody>
<tr>
<td>Name fields</td>
<td>Keep local / Accept upstream / Demote to alias / Add as alias / Custom</td>
</tr>
<tr>
<td>Aliases</td>
<td>Union checkboxes (pick which aliases to keep)</td>
</tr>
<tr>
<td>Simple fields</td>
<td>Keep local / Accept upstream / Custom</td>
</tr>
</tbody>
</table>
<p><strong>Dismissal:</strong> Soft dismiss resurfaces if upstream changes again. Permanent dismiss skips entirely.</p>
<hr />
<h2 id="upstream-studio-sync">Upstream Studio Sync</h2>
<p>Same pattern as performer sync, applied to studios. Detects changes on stash-box endpoints and presents merge controls to keep your local studio metadata current.</p>
<p><strong>Tracked fields:</strong></p>
<ul>
<li><strong>Name</strong> — studio display name</li>
<li><strong>URL</strong> — studio website</li>
<li><strong>Parent studio</strong> — hierarchical studio relationships</li>
</ul>
<p><strong>Parent studio comparison</strong> uses stash-box IDs rather than name matching, so renamed parent studios are still correctly identified. The 3-way diff engine (upstream / local / snapshot) works identically to performer sync — intentional local differences are preserved across syncs.</p>
<p><strong>Merge controls</strong> mirror the performer sync UI: keep local, accept upstream, or dismiss (soft or permanent).</p>
<hr />
<h2 id="upstream-scene-sync">Upstream Scene Sync</h2>
<p>Detects metadata changes for scenes linked to stash-box endpoints and provides per-field merge controls for updating your local library.</p>
<p><strong>Tracked field categories:</strong></p>
<table>
<thead>
<tr>
<th>Category</th>
<th>Fields</th>
</tr>
</thead>
<tbody>
<tr>
<td>Core metadata</td>
<td>Title, details, date, director, code, URLs</td>
</tr>
<tr>
<td>Studio assignment</td>
<td>Studio linked to the scene</td>
</tr>
<tr>
<td>Performer lineup</td>
<td>Added/removed performers, alias changes</td>
</tr>
<tr>
<td>Tags</td>
<td>Tag set additions and removals</td>
</tr>
</tbody>
</table>
<p><strong>3-way diff with snapshots:</strong> Like performer and studio sync, scene sync stores a snapshot of the last-seen upstream state. This distinguishes genuine upstream edits from intentional local differences — if you have customized a scene title locally, it will not be flagged on every sync cycle.</p>
<p><strong>Per-field merge controls</strong> allow you to accept, reject, or customize each change independently. Performer lineup changes show which performers were added or removed upstream, and alias changes are surfaced when an upstream performer's credited name differs from the local alias.</p>
<hr />
<h2 id="recommendations-dashboard">Recommendations Dashboard</h2>
<p>A unified plugin page showing all actionable suggestions:</p>
<ul>
<li><strong>Duplicate scenes</strong> — with confidence scores and signal breakdown</li>
<li><strong>Unidentified scenes</strong> — scenes with sprite sheets but no face recognition results</li>
<li><strong>Missing stash-box links</strong> — performers in your library without stash-box IDs</li>
<li><strong>Upstream updates</strong> — per-field changes from stash-box endpoints</li>
</ul>
<p>Each recommendation type runs as a background analyzer with incremental watermarking — only items modified since the last run are re-processed, keeping subsequent runs fast.</p>
<hr />
<h2 id="operation-queue">Operation Queue</h2>
<p>An async job queue with resource-aware scheduling that coordinates all background work — analysis runs, sync operations, and database updates.</p>
<p><strong>Priority levels:</strong></p>
<table>
<thead>
<tr>
<th>Priority</th>
<th>Use case</th>
</tr>
</thead>
<tbody>
<tr>
<td>Critical</td>
<td>Database updates, rollback operations</td>
</tr>
<tr>
<td>High</td>
<td>User-initiated analysis (e.g., "Identify Performers" click)</td>
</tr>
<tr>
<td>Normal</td>
<td>Scheduled analysis runs</td>
</tr>
<tr>
<td>Low</td>
<td>Background housekeeping</td>
</tr>
</tbody>
</table>
<p><strong>Resource slots</strong> prevent contention by ensuring only compatible jobs run concurrently:</p>
<table>
<thead>
<tr>
<th>Slot</th>
<th>What uses it</th>
<th>Why limited</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>GPU</code></td>
<td>Face detection, embedding inference</td>
<td>VRAM is finite</td>
</tr>
<tr>
<td><code>CPU_HEAVY</code></td>
<td>Clustering, fingerprint computation</td>
<td>Avoid saturating cores</td>
</tr>
<tr>
<td><code>NETWORK</code></td>
<td>Stash-box API calls, database downloads</td>
<td>Rate limits, bandwidth</td>
</tr>
<tr>
<td><code>LIGHT</code></td>
<td>Metadata reads, cache checks</td>
<td>Runs alongside anything</td>
</tr>
</tbody>
</table>
<p>Jobs declare which resource slot they need. The scheduler runs all compatible jobs in parallel but serializes jobs that compete for the same resource.</p>
<p><strong>Persistence:</strong> The queue survives sidecar restarts. In-progress jobs are re-queued on startup.</p>
<p><strong>Configurable schedules:</strong> Recurring analysis jobs (upstream sync, duplicate detection) can be scheduled via the plugin UI with cron-style intervals. Manual triggers are always available.</p>
<p><strong>Monitoring:</strong> The plugin UI shows active, queued, and completed jobs with status, duration, and error details.</p>
<hr />
<h2 id="model-management">Model Management</h2>
<p>On-demand download and lifecycle management for optional ONNX models that are not bundled in the Docker image.</p>
<p><strong>Supported optional models:</strong></p>
<table>
<thead>
<tr>
<th>Model</th>
<th>Purpose</th>
<th>Size</th>
</tr>
</thead>
<tbody>
<tr>
<td>Tattoo detection</td>
<td>Identifies tattoos for performer matching</td>
<td>~50 MB</td>
</tr>
</tbody>
</table>
<p><strong>Validation:</strong> Each model download is verified against a SHA256 checksum before activation. If a model file becomes corrupted (disk error, partial write), the sidecar detects the mismatch and marks the model as <code>corrupted</code>.</p>
<p><strong>Status tracking:</strong></p>
<table>
<thead>
<tr>
<th>Status</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>not_installed</code></td>
<td>Model available for download but not present locally</td>
</tr>
<tr>
<td><code>installed</code></td>
<td>Model downloaded, verified, and ready for use</td>
</tr>
<tr>
<td><code>corrupted</code></td>
<td>Checksum mismatch — re-download required</td>
</tr>
</tbody>
</table>
<p><strong>Download progress UI:</strong> The plugin Settings tab shows real-time download progress for each model with a progress bar. Models can be installed or removed at any time without restarting the sidecar.</p>
<hr />
<h2 id="settings-system">Settings System</h2>
<p>The sidecar auto-detects your hardware at startup (GPU model, VRAM, CPU cores, RAM) and classifies it into a performance tier:</p>
<table>
<thead>
<tr>
<th>Tier</th>
<th>Criteria</th>
<th>Effect</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>gpu-high</code></td>
<td>CUDA + 4GB+ VRAM</td>
<td>Full batch sizes, 8 concurrent workers</td>
</tr>
<tr>
<td><code>gpu-low</code></td>
<td>CUDA + &lt;4GB VRAM</td>
<td>Reduced batch sizes, 6 concurrent workers</td>
</tr>
<tr>
<td><code>cpu</code></td>
<td>No CUDA</td>
<td>Minimal batching, 2 concurrent workers</td>
</tr>
</tbody>
</table>
<p>All settings can be adjusted in the plugin's <strong>Settings</strong> tab. Changes are stored in the local database and override tier defaults. Reset any setting to revert to the auto-detected default.</p>
<p>See <a href="../settings-system/">Settings Reference</a> for the full list of configurable options.</p>
<hr />
<h2 id="database-self-update">Database Self-Update</h2>
<p>The face recognition database is distributed separately from the Docker image, allowing updates without rebuilding or restarting the container.</p>
<p><strong>Update process:</strong></p>
<ol>
<li>Check for updates via the Settings UI or the <code>/database/check-update</code> API</li>
<li>The sidecar compares your local <code>manifest.json</code> version against the latest <a href="https://github.com/carrotwaxr/stash-sense-data/releases">stash-sense-data</a> release</li>
<li>Click Update — the sidecar downloads, verifies checksums, swaps files, and reloads</li>
<li>A backup of the previous database is created automatically</li>
<li>On failure, the sidecar rolls back to the backup</li>
</ol>
<p>During an update, face identification endpoints return 503 for a brief period (5-10 seconds). All other endpoints remain available. Your recommendation history and settings are never affected by database updates.</p>
<p>See <a href="../database/">Database &amp; Updates</a> for details on the data source and update procedures.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/carrotwaxr/stash-sense" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": ["navigation.sections", "navigation.expand", "content.code.copy"], "search": "../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>